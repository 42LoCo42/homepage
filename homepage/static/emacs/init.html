<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-08-17 Do 12:23 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Emacs configuration</title>
<meta name="author" content="Eleonora" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="https://eleonora.gay/emacs/style.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">My Emacs configuration
<br />
<span class="subtitle"><a href="https://github.com/42LoCo42/emacs-config">https://github.com/42LoCo42/emacs-config</a></span>
</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org289f1f1">1. Package management</a>
<ul>
<li><a href="#org1f00782">1.1. Load straight</a></li>
<li><a href="#org60fda0d">1.2. Load use-package</a></li>
</ul>
</li>
<li><a href="#org22502ca">2. Custom Functions</a>
<ul>
<li><a href="#org6536492">2.1. split-window fix</a></li>
<li><a href="#orgc88689c">2.2. A smarter C-a</a></li>
<li><a href="#orgdd357e6">2.3. Terminal functions</a></li>
<li><a href="#org6d241f7">2.4. Dashboard</a></li>
<li><a href="#org1c5eeec">2.5. Haskell process reload</a></li>
<li><a href="#org1c59833">2.6. Open today's Org file</a></li>
</ul>
</li>
<li><a href="#org0f08069">3. General configuration</a>
<ul>
<li><a href="#org2dd9671">3.1. Some modes</a></li>
<li><a href="#org2a754d6">3.2. More recentf items</a></li>
<li><a href="#org652f25b">3.3. Spell checking</a></li>
<li><a href="#org07740eb">3.4. More miscellaneous settings</a></li>
</ul>
</li>
<li><a href="#org2d767b5">4. Appearance</a>
<ul>
<li><a href="#org21d87a3">4.1. Theme</a></li>
<li><a href="#orgb5dbb71">4.2. Font</a></li>
<li><a href="#org9729a04">4.3. Tab width</a></li>
<li><a href="#org7689114">4.4. Line numbers</a></li>
<li><a href="#orgecb9c48">4.5. Tab bar</a></li>
<li><a href="#orgcd09ac7">4.6. Icons</a></li>
<li><a href="#org5ce4610">4.7. Modeline</a></li>
<li><a href="#org6dd7f00">4.8. More dashboard setup</a></li>
<li><a href="#org59ed1ad">4.9. Selection and completion interface</a></li>
<li><a href="#orgb0e75fe">4.10. Better syntax highlighting</a></li>
<li><a href="#org5f7a69f">4.11. Indent guides</a></li>
<li><a href="#org9396185">4.12. Visible whitespace</a></li>
<li><a href="#orge77e574">4.13. Colored strings</a></li>
<li><a href="#orgd8fc18f">4.14. Colored parentheses</a></li>
</ul>
</li>
<li><a href="#org3a386d4">5. Popup control</a></li>
<li><a href="#orgca1f1bd">6. Temporary files</a></li>
<li><a href="#orgbc8e4c2">7. Helpers</a>
<ul>
<li><a href="#org17fe19f">7.1. Fill column</a></li>
<li><a href="#org49d23e9">7.2. Show composite keybindings</a></li>
<li><a href="#orgfb17b94">7.3. Frecency-based sorting</a></li>
<li><a href="#orgc4d8326">7.4. More selection functions</a></li>
<li><a href="#org2beb250">7.5. More completion information</a></li>
<li><a href="#orgb40069e">7.6. Git line status</a></li>
</ul>
</li>
<li><a href="#orgefd2269">8. Editing</a>
<ul>
<li><a href="#org85ff54d">8.1. Multiple cursors</a></li>
<li><a href="#orgdc52523">8.2. Direct jumps</a></li>
<li><a href="#org9c12845">8.3. Undo tree</a></li>
</ul>
</li>
<li><a href="#org089fcd6">9. Terminal</a></li>
<li><a href="#org3a1d01a">10. Programming basics</a>
<ul>
<li><a href="#org4e63819">10.1. Trailing whitespace cleanup</a></li>
<li><a href="#org1065935">10.2. Projects</a></li>
<li><a href="#org8ff4ad7">10.3. Autocompletion</a></li>
<li><a href="#org82564e6">10.4. Language server support</a></li>
<li><a href="#org841ec3a">10.5. xref setup</a></li>
<li><a href="#org4b38bfd">10.6. Formatting</a></li>
<li><a href="#org67b8447">10.7. EditorConfig</a></li>
<li><a href="#org9e8f79c">10.8. Error checking</a></li>
<li><a href="#org844a1c0">10.9. Snippets</a></li>
<li><a href="#org74d0676">10.10. <span class="todo TODO">TODO</span> highlighting</a></li>
<li><a href="#org670d5ad">10.11. Electricity</a></li>
<li><a href="#org705007e">10.12. Direnv integration</a></li>
</ul>
</li>
<li><a href="#orgf58103b">11. Languages</a>
<ul>
<li><a href="#orgbf25659">11.1. Lisp</a>
<ul>
<li><a href="#orgf6898a3">11.1.1. Some problems due to parinfer</a></li>
</ul>
</li>
<li><a href="#org4b9bb33">11.2. C</a></li>
<li><a href="#orgeea5729">11.3. Haskell</a></li>
<li><a href="#org473805f">11.4. Go</a></li>
<li><a href="#org52ae7f3">11.5. Rust</a></li>
<li><a href="#orgc09a19e">11.6. HTML</a></li>
<li><a href="#orgecf73c2">11.7. Org</a></li>
<li><a href="#org5c21d83">11.8. Typst</a></li>
<li><a href="#org6e6850c">11.9. Nix</a></li>
<li><a href="#orgdd97c6b">11.10. Structured data</a></li>
</ul>
</li>
<li><a href="#orgda5a588">12. Keybindings</a>
<ul>
<li><a href="#org42763cd">12.1. A helper</a></li>
<li><a href="#orgbba8acf">12.2. Principles</a></li>
<li><a href="#org4b42720">12.3. Menus</a></li>
<li><a href="#org7ce65a8">12.4. Window controls</a></li>
<li><a href="#org6f8bdde">12.5. Movement</a></li>
<li><a href="#orge59a314">12.6. Editing</a></li>
<li><a href="#orgdefec65">12.7. Language server actions</a></li>
<li><a href="#org820d270">12.8. Text scale adjustment</a></li>
<li><a href="#org5e973c0">12.9. Other utilities</a></li>
<li><a href="#org9f3ff65">12.10. Help</a></li>
<li><a href="#orgd22d7bd">12.11. cua-mode</a></li>
<li><a href="#orgce73683">12.12. Paste</a></li>
</ul>
</li>
<li><a href="#org5875306">13. Startup message</a></li>
</ul>
</div>
</div>

<div id="outline-container-org289f1f1" class="outline-2">
<h2 id="org289f1f1"><span class="section-number-2">1.</span> Package management</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org1f00782" class="outline-3">
<h3 id="org1f00782"><span class="section-number-3">1.1.</span> Load straight</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a href="https://github.com/raxod502/straight.el">straight</a> is a purely functional package manager for Emacs.
It enables 100% reproducible package management and makes editing packages very easy!
</p>

<p>
Initialization code taken directly from
<a href="https://github.com/radian-software/straight.el#getting-started">https://github.com/radian-software/straight.el#getting-started</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defvar</span> <span style="color: #83a598;">bootstrap-version</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">let</span> <span style="color: #98971a;">(</span><span style="color: #d79921;">(</span><span style="color: #83a598;">bootstrap-file</span>
       <span style="color: #458588;">(</span>expand-file-name <span style="color: #b8bb26;">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory<span style="color: #458588;">)</span><span style="color: #d79921;">)</span>
      <span style="color: #d79921;">(</span><span style="color: #83a598;">bootstrap-version</span> 6<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">unless</span> <span style="color: #d79921;">(</span>file-exists-p bootstrap-file<span style="color: #d79921;">)</span>
    <span style="color: #d79921;">(</span><span style="color: #fb4933;">with-current-buffer</span>
        <span style="color: #458588;">(</span>url-retrieve-synchronously
         <span style="color: #b8bb26;">"https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"</span>
         '<span style="color: #d3869b;">silent</span> '<span style="color: #d3869b;">inhibit-cookies</span><span style="color: #458588;">)</span>
      <span style="color: #458588;">(</span>goto-char <span style="color: #b16286;">(</span>point-max<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
      <span style="color: #458588;">(</span>eval-print-last-sexp<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>load bootstrap-file nil '<span style="color: #d3869b;">nomessage</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org60fda0d" class="outline-3">
<h3 id="org60fda0d"><span class="section-number-3">1.2.</span> Load use-package</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<a href="https://github.com/jwiegley/use-package">use-package</a> is a tool to declaratively specify package configuration.
This increases performance (not everything is loaded at once) and tidiness.
use-package integrates with straight to fetch packages.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>straight-use-package '<span style="color: #d3869b;">use-package</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">straight</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>straight-use-package-by-default t<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org22502ca" class="outline-2">
<h2 id="org22502ca"><span class="section-number-2">2.</span> Custom Functions</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org6536492" class="outline-3">
<h3 id="org6536492"><span class="section-number-3">2.1.</span> split-window fix</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The default behaviour of the split-window functions is to just split,
but not to select the new window.
These functions are a fix for that.
They also balance the window layout.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/split-switch-below</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Split and switch to window below."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>split-window-below<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>balance-windows<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>other-window 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/split-switch-right</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Split and switch to window on the right."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>split-window-right<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>balance-windows<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>other-window 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc88689c" class="outline-3">
<h3 id="orgc88689c"><span class="section-number-3">2.2.</span> A smarter C-a</h3>
<div class="outline-text-3" id="text-2-2">
<p>
This function allows jumping to the start of the line
or the first non-whitespace character just by calling it repeatedly.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/smart-home</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Jump to beginning of line or first non-whitespace."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">let</span> <span style="color: #d79921;">(</span><span style="color: #458588;">(</span><span style="color: #83a598;">oldpos</span> <span style="color: #b16286;">(</span>point<span style="color: #b16286;">)</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span>
    <span style="color: #d79921;">(</span>back-to-indentation<span style="color: #d79921;">)</span>
    <span style="color: #d79921;">(</span><span style="color: #fb4933;">and</span> <span style="color: #458588;">(</span>= oldpos <span style="color: #b16286;">(</span>point<span style="color: #b16286;">)</span><span style="color: #458588;">)</span> <span style="color: #458588;">(</span>beginning-of-line<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd357e6" class="outline-3">
<h3 id="orgdd357e6"><span class="section-number-3">2.3.</span> Terminal functions</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Some functions for terminal interaction.
The first one just opens a terminal in the current buffer.
The second one checks if we are already in the terminal buffer,
then it does nothing.
Otherwise, it opens a terminal buffer on the right.
The third function resets the terminal.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/terminal</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Open the terminal."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>eat <span style="color: #b8bb26;">"bash"</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/switch-to-terminal</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Create or switch to the terminal buffer."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">let</span> <span style="color: #d79921;">(</span><span style="color: #458588;">(</span><span style="color: #83a598;">term-win</span> <span style="color: #b16286;">(</span>get-buffer-window <span style="color: #b8bb26;">"*eat*"</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span>
    <span style="color: #d79921;">(</span><span style="color: #fb4933;">if</span>
        <span style="color: #458588;">(</span>eq term-win nil<span style="color: #458588;">)</span>
        <span style="color: #458588;">(</span><span style="color: #fb4933;">progn</span>
          <span style="color: #b16286;">(</span>my/split-switch-right<span style="color: #b16286;">)</span>
          <span style="color: #b16286;">(</span>my/terminal<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
      <span style="color: #458588;">(</span>select-window term-win<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/eat-reset</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Reset eat and input newline."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>eat-reset<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>eat-self-input 1 ?\x15<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>eat-self-input 1 ?\n<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6d241f7" class="outline-3">
<h3 id="org6d241f7"><span class="section-number-3">2.4.</span> Dashboard</h3>
<div class="outline-text-3" id="text-2-4">
<p>
My dashboard is <b>very</b> minimalistic: a logo and some package load statistics.
The logo should be centered both vertically and horizontally.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/dashboard</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Switch to a custom dashboard buffer."</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>switch-to-buffer <span style="color: #d79921;">(</span>get-buffer-create <span style="color: #b8bb26;">"*my-dashboard*"</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>read-only-mode 0<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-local-mode 1<span style="color: #98971a;">)</span> <span style="color: #7c6f64;">; </span><span style="color: #7c6f64;">this *disables* the tab bar</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">setq-local</span> mode-line-format nil
              cursor-type nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>erase-buffer<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>dashboard-insert-banner<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>call-interactively #'<span style="color: #fabd2f;">beginning-of-buffer</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>newline
   <span style="color: #d79921;">(</span>/
    <span style="color: #458588;">(</span>-
     <span style="color: #b16286;">(</span>window-height<span style="color: #b16286;">)</span>
     <span style="color: #b16286;">(</span>count-lines <span style="color: #689d6a;">(</span>point-min<span style="color: #689d6a;">)</span> <span style="color: #689d6a;">(</span>point-max<span style="color: #689d6a;">)</span><span style="color: #b16286;">)</span>
     5<span style="color: #458588;">)</span>
    2<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>cd <span style="color: #b8bb26;">"~"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>read-only-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>message nil<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1c5eeec" class="outline-3">
<h3 id="org1c5eeec"><span class="section-number-3">2.5.</span> Haskell process reload</h3>
<div class="outline-text-3" id="text-2-5">
<p>
This function reloads the REPL of haskell-mode.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/haskell-reload</span> <span style="color: #98971a;">(</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>haskell-process-file-loadish
   <span style="color: #b8bb26;">"reload"</span> t
   <span style="color: #d79921;">(</span><span style="color: #fb4933;">or</span> haskell-interactive-previous-buffer <span style="color: #458588;">(</span>current-buffer<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1c59833" class="outline-3">
<h3 id="org1c59833"><span class="section-number-3">2.6.</span> Open today's Org file</h3>
<div class="outline-text-3" id="text-2-6">
<p>
This function lets the user select a project folder
and opens the Org file with the current ISO 8601 date as the name.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defun</span> <span style="color: #fabd2f;">my/todays-org-file</span> <span style="color: #98971a;">(</span><span style="color: #83a598;">directory</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Opens the Org file for today in DIRECTORY.</span>
<span style="color: #b8bb26;">It has the filename year-month-day.org"</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">interactive</span> <span style="color: #b8bb26;">"Ddirectory: "</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">let*</span> <span style="color: #d79921;">(</span><span style="color: #458588;">(</span><span style="color: #83a598;">date</span>  <span style="color: #b16286;">(</span>calendar-current-date<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
         <span style="color: #458588;">(</span><span style="color: #83a598;">month</span> <span style="color: #b16286;">(</span>car   date<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
         <span style="color: #458588;">(</span><span style="color: #83a598;">day</span>   <span style="color: #b16286;">(</span>cadr  date<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
         <span style="color: #458588;">(</span><span style="color: #83a598;">year</span>  <span style="color: #b16286;">(</span>caddr date<span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
         <span style="color: #458588;">(</span><span style="color: #83a598;">file</span>  <span style="color: #b16286;">(</span>format <span style="color: #b8bb26;">"%04d-%02d-%02d.org"</span> year month day<span style="color: #b16286;">)</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span>
    <span style="color: #d79921;">(</span>find-file <span style="color: #458588;">(</span>expand-file-name file directory<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0f08069" class="outline-2">
<h2 id="org0f08069"><span class="section-number-2">3.</span> General configuration</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org2dd9671" class="outline-3">
<h3 id="org2dd9671"><span class="section-number-3">3.1.</span> Some modes</h3>
<div class="outline-text-3" id="text-3-1">
<p>
We don't want:
</p>
<ul class="org-ul">
<li>a blinking cursor</li>
<li>a menu, scroll, and tool bar</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>blink-cursor-mode 0<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>menu-bar-mode     0<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>scroll-bar-mode   0<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>tool-bar-mode     0<span style="color: #cc241d;">)</span>
</pre>
</div>

<p>
We want:
</p>
<ul class="org-ul">
<li>to automatically reload a buffer when its corresponding file changes</li>
<li>the current line to be highlighted</li>
<li>pretty symbols</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>global-auto-revert-mode      1<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>global-hl-line-mode          1<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>global-prettify-symbols-mode 1<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a754d6" class="outline-3">
<h3 id="org2a754d6"><span class="section-number-3">3.2.</span> More recentf items</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> recentf-max-saved-items 100<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org652f25b" class="outline-3">
<h3 id="org652f25b"><span class="section-number-3">3.3.</span> Spell checking</h3>
<div class="outline-text-3" id="text-3-3">
<p>
<a href="http://aspell.net/">Aspell</a> is a modern replacement for ispell with full UTF-8 support.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> ispell-program-name: <span style="color: #b8bb26;">"aspell"</span>
      ispell-dictionary: <span style="color: #b8bb26;">"de_DE"</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org07740eb" class="outline-3">
<h3 id="org07740eb"><span class="section-number-3">3.4.</span> More miscellaneous settings</h3>
<div class="outline-text-3" id="text-3-4">
<p>
No startup screen (we have our own dashboard).
No initial message in the scratch buffer.
No bell, dialogs or long yes-or-no questions.
And finally, no "when done with this frame&#x2026;" message
in emacsclient frames.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> inhibit-startup-screen t
      initial-scratch-message <span style="color: #b8bb26;">""</span>
      ring-bell-function '<span style="color: #d3869b;">ignore</span>
      use-dialog-box nil<span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">defalias</span> '<span style="color: #fabd2f;">yes-or-no-p</span> '<span style="color: #d3869b;">y-or-n-p</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">server</span> <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>server-client-instructions nil<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2d767b5" class="outline-2">
<h2 id="org2d767b5"><span class="section-number-2">4.</span> Appearance</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org21d87a3" class="outline-3">
<h3 id="org21d87a3"><span class="section-number-3">4.1.</span> Theme</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Gruvbox medium dark is the supreme colorscheme
and I will fight anyone who dare says otherwise.
<a href="https://github.com/greduan/emacs-theme-gruvbox">Link to repo</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">gruvbox-theme</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>custom-safe-themes '<span style="color: #d79921;">(</span><span style="color: #b8bb26;">"046a2b81d13afddae309930ef85d458c4f5d278a69448e5a5261a5c78598e012"</span><span style="color: #d3869b;"> default</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>load-theme '<span style="color: #d3869b;">gruvbox-dark-medium</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb5dbb71" class="outline-3">
<h3 id="orgb5dbb71"><span class="section-number-3">4.2.</span> Font</h3>
<div class="outline-text-3" id="text-4-2">
<p>
We use <a href="https://typeof.net/Iosevka/">Iosevka</a> as a basis for <a href="https://www.nerdfonts.com/">Nerd Fonts</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defvar</span> <span style="color: #83a598;">my/default-font</span> <span style="color: #b8bb26;">"IosevkaNerdFontMono"</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>set-frame-font my/default-font<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9729a04" class="outline-3">
<h3 id="org9729a04"><span class="section-number-3">4.3.</span> Tab width</h3>
<div class="outline-text-3" id="text-4-3">
<p>
4 spaces by default.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq-default</span> tab-width 4<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7689114" class="outline-3">
<h3 id="org7689114"><span class="section-number-3">4.4.</span> Line numbers</h3>
<div class="outline-text-3" id="text-4-4">
<p>
We use relative line numbers because they make relative jumps easier
(no need to type the full line number, two digits are always enough).
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">display-line-numbers</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>display-line-numbers-type '<span style="color: #d3869b;">relative</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>set-face-background '<span style="color: #d3869b;">line-number</span> nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>global-display-line-numbers-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgecb9c48" class="outline-3">
<h3 id="orgecb9c48"><span class="section-number-3">4.5.</span> Tab bar</h3>
<div class="outline-text-3" id="text-4-5">
<p>
<a href="https://github.com/ema2159/centaur-tabs">centaur-tabs</a> creates a nice tab bar at the top of a window.
It groups buffers by type and project,
has a "modified" indicator and other goodies.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">centaur-tabs</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>centaur-tabs-cycle-scope '<span style="color: #d3869b;">tabs</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-modified-marker <span style="color: #b8bb26;">"&#9679;"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-set-bar '<span style="color: #d3869b;">under</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-show-new-tab-button nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-set-close-button nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-set-icons t<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-set-modified-marker t<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-style <span style="color: #b8bb26;">"bar"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>x-underline-at-descent-line 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>centaur-tabs-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-change-fonts my/default-font 100<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>centaur-tabs-headline-match<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd09ac7" class="outline-3">
<h3 id="orgcd09ac7"><span class="section-number-3">4.6.</span> Icons</h3>
<div class="outline-text-3" id="text-4-6">
<p>
<a href="https://github.com/domtronn/all-the-icons.el">All the icons</a> for our tab bar!
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">all-the-icons</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>all-the-icons-fonts-subdirectory <span style="color: #b8bb26;">"all-the-icons"</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ce4610" class="outline-3">
<h3 id="org5ce4610"><span class="section-number-3">4.7.</span> Modeline</h3>
<div class="outline-text-3" id="text-4-7">
<p>
We use <a href="https://github.com/dbordak/telephone-line">telephone-line</a>, a pretty simple custom modeline.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">telephone-line</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>telephone-line-lhs
   '<span style="color: #d79921;">(</span><span style="color: #458588;">(</span><span style="color: #d3869b;">accent . </span><span style="color: #b16286;">(</span><span style="color: #d3869b;">telephone-line-vc-segment</span>
<span style="color: #d3869b;">                telephone-line-process-segment</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
<span style="color: #d3869b;">     </span><span style="color: #458588;">(</span><span style="color: #d3869b;">nil    . </span><span style="color: #b16286;">(</span><span style="color: #d3869b;">telephone-line-project-segment</span>
<span style="color: #d3869b;">                telephone-line-buffer-segment</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>telephone-line-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6dd7f00" class="outline-3">
<h3 id="org6dd7f00"><span class="section-number-3">4.8.</span> More dashboard setup</h3>
<div class="outline-text-3" id="text-4-8">
<p>
While the <code>my/dashboard</code> function sets up the buffer,
this configuration describes the actual contents of the dashboard.
This uses the <a href="https://github.com/emacs-dashboard/emacs-dashboard">dashboard</a> package.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">dashboard</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>dashboard-banner-logo-title <span style="color: #b8bb26;">"Welcome to Emacs!"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>dashboard-startup-banner <span style="color: #d79921;">(</span>expand-file-name <span style="color: #b8bb26;">"splash.png"</span> user-emacs-directory<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>set-face-attribute '<span style="color: #d3869b;">dashboard-banner-logo-title</span> nil <span style="color: #fe8019;">:height</span> 200<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span>add-hook '<span style="color: #d3869b;">after-init-hook</span> #'<span style="color: #fabd2f;">my/dashboard</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org59ed1ad" class="outline-3">
<h3 id="org59ed1ad"><span class="section-number-3">4.9.</span> Selection and completion interface</h3>
<div class="outline-text-3" id="text-4-9">
<p>
<a href="https://github.com/minad/vertico">vertico</a> is a modern and minimalistic completion UI.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">vertico</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>vertico-count 30<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>vertico-cycle t<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>vertico-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb0e75fe" class="outline-3">
<h3 id="orgb0e75fe"><span class="section-number-3">4.10.</span> Better syntax highlighting</h3>
<div class="outline-text-3" id="text-4-10">
<p>
With <a href="https://github.com/emacs-tree-sitter/elisp-tree-sitter">tree-sitter</a>, much more complex syntax highlighting is possible,
even when we don't have a language-specific mode installed!
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">better syntax highlighting</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">tree-sitter</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>global-tree-sitter-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:hook</span> <span style="color: #98971a;">(</span>tree-sitter-after-on . tree-sitter-hl-mode<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">tree-sitter-langs</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f7a69f" class="outline-3">
<h3 id="org5f7a69f"><span class="section-number-3">4.11.</span> Indent guides</h3>
<div class="outline-text-3" id="text-4-11">
<p>
A visual representation of where we are in an indented structure.
<a href="https://github.com/DarthFennec/highlight-indent-guides">highlight-indent-guides</a> is very adaptive and thus a perfect fit
for languages with weird, dynamic indentation (looking at you, Haskell).
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">indent guides</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">highlight-indent-guides</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>highlight-indent-guides-responsive '<span style="color: #d3869b;">stack</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:hook</span> <span style="color: #98971a;">(</span>prog-mode . highlight-indent-guides-mode<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9396185" class="outline-3">
<h3 id="org9396185"><span class="section-number-3">4.12.</span> Visible whitespace</h3>
<div class="outline-text-3" id="text-4-12">
<p>
I want to see tabs and trailing whitespace.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">show whitespace</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">whitespace</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>global-whitespace-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>whitespace-style '<span style="color: #d79921;">(</span><span style="color: #d3869b;">face tab-mark trailing missig-newline-at-eof</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge77e574" class="outline-3">
<h3 id="orge77e574"><span class="section-number-3">4.13.</span> Colored strings</h3>
<div class="outline-text-3" id="text-4-13">
<p>
With <a href="https://elpa.gnu.org/packages/rainbow-mode.html">rainbow-mode</a>, color strings like #bb77ff get a background of their color.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">rainbow-mode</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">define-globalized-minor-mode</span> <span style="color: #fabd2f;">my/global-rainbow-mode</span> rainbow-mode
    <span style="color: #d79921;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #458588;">()</span> <span style="color: #458588;">(</span>rainbow-mode 1<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>my/global-rainbow-mode<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8fc18f" class="outline-3">
<h3 id="orgd8fc18f"><span class="section-number-3">4.14.</span> Colored parentheses</h3>
<div class="outline-text-3" id="text-4-14">
<p>
We need more rainbows. Or, in this case, gruv-bows?
<a href="https://github.com/Fanael/rainbow-delimiters">Link to repo</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">rainbow-delimiters</span>
  <span style="color: #fe8019;">:hook</span> <span style="color: #98971a;">(</span>prog-mode . rainbow-delimiters-mode<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>rainbow-delimiters-max-face-count 6<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-1-face</span> <span style="color: #b8bb26;">"</span><span style="color: #ffffff; background-color: #cc241d;">#cc241d</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-2-face</span> <span style="color: #b8bb26;">"</span><span style="color: #000000; background-color: #98971a;">#98971a</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-3-face</span> <span style="color: #b8bb26;">"</span><span style="color: #000000; background-color: #d79921;">#d79921</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-4-face</span> <span style="color: #b8bb26;">"</span><span style="color: #ffffff; background-color: #458588;">#458588</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-5-face</span> <span style="color: #b8bb26;">"</span><span style="color: #ffffff; background-color: #b16286;">#b16286</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-foreground '<span style="color: #d3869b;">rainbow-delimiters-depth-6-face</span> <span style="color: #b8bb26;">"</span><span style="color: #000000; background-color: #689d6a;">#689d6a</span><span style="color: #b8bb26;">"</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3a386d4" class="outline-2">
<h2 id="org3a386d4"><span class="section-number-2">5.</span> Popup control</h2>
<div class="outline-text-2" id="text-5">
<p>
Popup windows can quickly become annoying.
The <a href="https://github.com/emacsorphanage/popwin">popwin</a> package allows closing them with just C-g.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">popwin</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #7c6f64;">;;</span><span style="color: #7c6f64;">(push "*undo-tree*" popwin:special-display-config)</span>
  <span style="color: #7c6f64;">;;</span><span style="color: #7c6f64;">(push "*Help*"      popwin:special-display-config)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">push</span> <span style="color: #b8bb26;">"*Backtrace*"</span> popwin:special-display-config<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">push</span> <span style="color: #b8bb26;">"*hoogle*"</span>    popwin:special-display-config<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">push</span> '<span style="color: #d79921;">(</span><span style="color: #b8bb26;">"^[*]"</span><span style="color: #d3869b;"> </span><span style="color: #fe8019;">:regex</span><span style="color: #d3869b;"> t</span><span style="color: #d79921;">)</span> popwin:special-display-config<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>popwin-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca1f1bd" class="outline-2">
<h2 id="orgca1f1bd"><span class="section-number-2">6.</span> Temporary files</h2>
<div class="outline-text-2" id="text-6">
<p>
Emacs leaves a lot of temporary files lying around, such as backups and autosaves.
We shove all of them in a single directory next to the Emacs configuration.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defvar</span> <span style="color: #83a598;">my/temp-dir</span> <span style="color: #98971a;">(</span>concat user-emacs-directory <span style="color: #b8bb26;">"temp/"</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> backup-directory-alist         <span style="color: #fb4933; font-weight: bold;">`</span><span style="color: #98971a;">(</span><span style="color: #d79921;">(</span><span style="color: #b8bb26;">"."</span><span style="color: #d3869b;"> . </span><span style="color: #fb4933; font-weight: bold;">,</span>my/temp-dir<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
      auto-save-file-name-transforms <span style="color: #fb4933; font-weight: bold;">`</span><span style="color: #98971a;">(</span><span style="color: #d79921;">(</span><span style="color: #b8bb26;">".*"</span><span style="color: #d3869b;">  </span><span style="color: #fb4933; font-weight: bold;">,</span>my/temp-dir<span style="color: #d3869b;"> t</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
      auto-save-list-file-prefix               my/temp-dir<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc8e4c2" class="outline-2">
<h2 id="orgbc8e4c2"><span class="section-number-2">7.</span> Helpers</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org17fe19f" class="outline-3">
<h3 id="org17fe19f"><span class="section-number-3">7.1.</span> Fill column</h3>
<div class="outline-text-3" id="text-7-1">
<p>
For a long time, terminals were only 80 columns wide.
Today, such tight space constrains no longer exist,
but it is still nice to not write overly long lines.
The fill column shows up as a thin bar on the 80th column.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>add-hook '<span style="color: #d3869b;">display-fill-column-indicator-mode-hook</span>
          <span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">()</span> <span style="color: #d79921;">(</span>set-fill-column 80<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>global-display-fill-column-indicator-mode<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org49d23e9" class="outline-3">
<h3 id="org49d23e9"><span class="section-number-3">7.2.</span> Show composite keybindings</h3>
<div class="outline-text-3" id="text-7-2">
<p>
<a href="https://github.com/justbur/emacs-which-key">which-key</a> shows possible continuations of a multi-part keybind.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">which-key</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>which-key-idle-delay 0.5<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>which-key-idle-secondary-delay 0<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>which-key-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>which-key-setup-side-window-bottom<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfb17b94" class="outline-3">
<h3 id="orgfb17b94"><span class="section-number-3">7.3.</span> Frecency-based sorting</h3>
<div class="outline-text-3" id="text-7-3">
<p>
<a href="https://github.com/radian-software/prescient.el">prescient</a> sorts possible completions by frequency and recency ("frecency").
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">prescient</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>prescient-persist-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>prescient-save-file <span style="color: #d79921;">(</span>concat my/temp-dir <span style="color: #b8bb26;">"prescient-save.el"</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">vertico-prescient</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>vertico-prescient-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4d8326" class="outline-3">
<h3 id="orgc4d8326"><span class="section-number-3">7.4.</span> More selection functions</h3>
<div class="outline-text-3" id="text-7-4">
<p>
<a href="https://github.com/minad/consult">consult</a> offers lots of search and navigation functions, such as
</p>
<ul class="org-ul">
<li>selecting buffers</li>
<li>grepping for text</li>
<li>jumping to lines, headings or bookmarks</li>
</ul>
<p>
and many more.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">consult</span>
  <span style="color: #fe8019;">:init</span> <span style="color: #98971a;">(</span>recentf-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>completion-in-region-function #'<span style="color: #fabd2f;">consult-completion-in-region</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2beb250" class="outline-3">
<h3 id="org2beb250"><span class="section-number-3">7.5.</span> More completion information</h3>
<div class="outline-text-3" id="text-7-5">
<p>
<a href="https://github.com/minad/marginalia">Marginalia</a> are annotations at the margin of page.
Here, they show e.g. file permissions, function names or buffer types
in the respective selection menus.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">marginalia</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>marginalia-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb40069e" class="outline-3">
<h3 id="orgb40069e"><span class="section-number-3">7.6.</span> Git line status</h3>
<div class="outline-text-3" id="text-7-6">
<p>
<a href="https://github.com/emacsorphanage/git-gutter">git-gutter</a> shows the modification status of lines (added, changed, removed)
in the "gutter" (left side of the window).
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">git-gutter</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>git-gutter:added-sign    <span style="color: #b8bb26;">"+"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>git-gutter:modified-sign <span style="color: #b8bb26;">"~"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>git-gutter:deleted-sign  <span style="color: #b8bb26;">"-"</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>git-gutter:update-interval 2<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span>set-face-background '<span style="color: #d3869b;">git-gutter:added</span>    nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-background '<span style="color: #d3869b;">git-gutter:modified</span> nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>set-face-background '<span style="color: #d3869b;">git-gutter:deleted</span>  nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>global-git-gutter-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgefd2269" class="outline-2">
<h2 id="orgefd2269"><span class="section-number-2">8.</span> Editing</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org85ff54d" class="outline-3">
<h3 id="org85ff54d"><span class="section-number-3">8.1.</span> Multiple cursors</h3>
<div class="outline-text-3" id="text-8-1">
<p>
For when you need to edit EVEN MORE! <a href="https://github.com/magnars/multiple-cursors.el/">Pure magic</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">multiple-cursors</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc52523" class="outline-3">
<h3 id="orgdc52523"><span class="section-number-3">8.2.</span> Direct jumps</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Another pretty crazy feature:
With <a href="https://github.com/abo-abo/avy">avy</a> you can jump to <b>any</b> visible text with just a few keystrokes!
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">avy</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>avy-keys
   <span style="color: #d79921;">(</span>nconc
    <span style="color: #458588;">(</span>number-sequence ?a ?z<span style="color: #458588;">)</span>
    <span style="color: #458588;">(</span>number-sequence ?A ?Z<span style="color: #458588;">)</span>
    <span style="color: #458588;">(</span>number-sequence ?1 ?9<span style="color: #458588;">)</span>
    '<span style="color: #458588;">(</span><span style="color: #d3869b;">?0</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9c12845" class="outline-3">
<h3 id="org9c12845"><span class="section-number-3">8.3.</span> Undo tree</h3>
<div class="outline-text-3" id="text-8-3">
<p>
Is this how timelords think?
<a href="https://github.com/apchamberlain/undo-tree.el">undo-tree</a> can visualize the entire undo/redo tree of a buffer
and even lets us move around in it!
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">undo-tree</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>undo-tree-history-directory-alist <span style="color: #fb4933; font-weight: bold;">`</span><span style="color: #d79921;">(</span><span style="color: #458588;">(</span><span style="color: #b8bb26;">"."</span><span style="color: #d3869b;"> . </span><span style="color: #fb4933; font-weight: bold;">,</span>my/temp-dir<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>global-undo-tree-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org089fcd6" class="outline-2">
<h2 id="org089fcd6"><span class="section-number-2">9.</span> Terminal</h2>
<div class="outline-text-2" id="text-9">
<p>
<a href="https://codeberg.org/akib/emacs-eat">eat</a>: Emulate A Terminal, is by far the best terminal emulator for emacs.
It's faster than <code>term</code>, doesn't flicker, has more features&#x2026;
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">eat</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>eat-term-inside-emacs <span style="color: #b8bb26;">"vterm"</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:bind</span> <span style="color: #98971a;">(</span><span style="color: #fe8019;">:map</span> eat-semi-char-mode-map
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"M-DEL"</span> . #'<span style="color: #fabd2f;">eat-self-input</span><span style="color: #d79921;">)</span>
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"C-a"</span>   . #'<span style="color: #fabd2f;">eat-self-input</span><span style="color: #d79921;">)</span>
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"C-u"</span>   . #'<span style="color: #fabd2f;">eat-self-input</span><span style="color: #d79921;">)</span>
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"C-l"</span>   . #'<span style="color: #fabd2f;">my/eat-reset</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3a1d01a" class="outline-2">
<h2 id="org3a1d01a"><span class="section-number-2">10.</span> Programming basics</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org4e63819" class="outline-3">
<h3 id="org4e63819"><span class="section-number-3">10.1.</span> Trailing whitespace cleanup</h3>
<div class="outline-text-3" id="text-10-1">
<p>
We don't like junk on our lines.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>add-hook '<span style="color: #d3869b;">before-save-hook</span> #'<span style="color: #fabd2f;">delete-trailing-whitespace</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1065935" class="outline-3">
<h3 id="org1065935"><span class="section-number-3">10.2.</span> Projects</h3>
<div class="outline-text-3" id="text-10-2">
<p>
The builtin project package is enough for my requirements.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">project</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ff4ad7" class="outline-3">
<h3 id="org8ff4ad7"><span class="section-number-3">10.3.</span> Autocompletion</h3>
<div class="outline-text-3" id="text-10-3">
<p>
<a href="https://github.com/company-mode/company-mode">company-mode</a> adds powerful autocompletion.
We want to ignore casing and show it as soon as a word is typed.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">company</span>
  <span style="color: #fe8019;">:hook</span> <span style="color: #98971a;">(</span>after-init . global-company-mode<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>company-dabbrev-downcase nil<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>company-dabbrev-ignore-case t<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>company-idle-delay 0<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>company-minimum-prefix-length 1<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>company-show-numbers t<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org82564e6" class="outline-3">
<h3 id="org82564e6"><span class="section-number-3">10.4.</span> Language server support</h3>
<div class="outline-text-3" id="text-10-4">
<p>
<a href="https://github.com/emacs-lsp/lsp-mode">lsp-mode</a> integrates into installed language servers.
We start them deferred, this reduces peak load.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">lsp-mode</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>lsp-headerline-breadcrumb-enable nil<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:hook</span>
  <span style="color: #98971a;">(</span>c-mode       . lsp-deferred<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>go-mode      . lsp-deferred<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>haskell-mode . lsp-deferred<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>nix-mode     . lsp-deferred<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>python-mode  . lsp-deferred<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">lsp-ui</span>
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>lsp-ui-sideline-show-code-actions t<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>lsp-ui-sideline-show-diagnostics t<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>lsp-ui-sideline-show-hover nil<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org841ec3a" class="outline-3">
<h3 id="org841ec3a"><span class="section-number-3">10.5.</span> xref setup</h3>
<div class="outline-text-3" id="text-10-5">
<p>
Consult provices a selection function for xref.
We also disable the symbol selection in xref-find-references.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> xref-show-xrefs-function       #'<span style="color: #fabd2f;">consult-xref</span>
      xref-show-definitions-function #'<span style="color: #fabd2f;">consult-xref</span>
      xref-prompt-for-identifier     nil<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b38bfd" class="outline-3">
<h3 id="org4b38bfd"><span class="section-number-3">10.6.</span> Formatting</h3>
<div class="outline-text-3" id="text-10-6">
<p>
<a href="https://github.com/lassik/emacs-format-all-the-code">Format all the code!</a> Automatic formatting on save.
For Haskell, I am currently using <a href="https://github.com/haskell/stylish-haskell">stylish-haskell</a>,
which is not the default setting.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">format-all</span>
  <span style="color: #fe8019;">:hook</span> <span style="color: #98971a;">(</span>prog-mode . format-all-mode<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>format-all-mode . format-all-ensure-formatter<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:config</span>
  <span style="color: #98971a;">(</span><span style="color: #fb4933;">push</span> '<span style="color: #d79921;">(</span><span style="color: #b8bb26;">"Haskell"</span><span style="color: #d3869b;"> stylish-haskell</span><span style="color: #d79921;">)</span> format-all-default-formatters<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org67b8447" class="outline-3">
<h3 id="org67b8447"><span class="section-number-3">10.7.</span> EditorConfig</h3>
<div class="outline-text-3" id="text-10-7">
<p>
<a href="https://editorconfig.org/">EditorConfig</a> automatically loads basic code formatting rules
from a project's rule file.
The Emacs plugin is <a href="https://github.com/editorconfig/editorconfig-emacs">here</a>.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">editorconfig</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>editorconfig-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e8f79c" class="outline-3">
<h3 id="org9e8f79c"><span class="section-number-3">10.8.</span> Error checking</h3>
<div class="outline-text-3" id="text-10-8">
<p>
<a href="https://github.com/flycheck/flycheck">Flycheck</a> provides on-the-fly syntax &amp; error checking.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">flycheck</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>global-flycheck-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org844a1c0" class="outline-3">
<h3 id="org844a1c0"><span class="section-number-3">10.9.</span> Snippets</h3>
<div class="outline-text-3" id="text-10-9">
<p>
<a href="https://github.com/joaotavora/yasnippet">Yasnippet</a> is a template/snippet system for emacs.
It is required by some language's autocompletion
to correctly fill in function arguments and such things.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">yasnippet</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>yas-global-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org74d0676" class="outline-3">
<h3 id="org74d0676"><span class="section-number-3">10.10.</span> <span class="todo TODO">TODO</span> highlighting</h3>
<div class="outline-text-3" id="text-10-10">
<p>
<a href="https://github.com/tarsius/hl-todo">hl-todo</a> highlights TODO and some other keywords.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">hl-todo</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>global-hl-todo-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org670d5ad" class="outline-3">
<h3 id="org670d5ad"><span class="section-number-3">10.11.</span> Electricity</h3>
<div class="outline-text-3" id="text-10-11">
<p>
Automatic indentation and completion of pair characters (brackets, quotation marks, &#x2026;).
Emacs calls this behaviour <a href="https://www.emacswiki.org/emacs/Electricity">Electricity</a>.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>electric-indent-mode 1<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>electric-pair-mode   1<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org705007e" class="outline-3">
<h3 id="org705007e"><span class="section-number-3">10.12.</span> Direnv integration</h3>
<div class="outline-text-3" id="text-10-12">
<p>
<a href="https://github.com/wbolster/emacs-direnv">direnv</a> automatically loads project environments.
Together with my <a href="https://github.com/nix-community/nix-direnv">nix-direnv</a> setup on NixOS (dotfiles <a href="https://github.com/42LoCo42/.dotfiles/tree/nixos">here</a>),
this loads entire Nix flakes and enables Emacs
to use the packages declared within.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">direnv</span>
  <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>direnv-mode 1<span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>direnv-always-show-summary nil<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf58103b" class="outline-2">
<h2 id="orgf58103b"><span class="section-number-2">11.</span> Languages</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-orgbf25659" class="outline-3">
<h3 id="orgbf25659"><span class="section-number-3">11.1.</span> Lisp</h3>
<div class="outline-text-3" id="text-11-1">
<p>
We use two packages for lisp:
</p>
<ul class="org-ul">
<li><a href="https://github.com/Lindydancer/lisp-extra-font-lock">lisp-extra-font-lock</a> highlights local bindings and quoted expressions</li>
<li><a href="https://github.com/justinbarclay/parinfer-rust-mode">parinfer</a> makes writing Lisp easier by automatically adjusting parentheses and indentation</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">lisp-extra-font-lock</span> <span style="color: #fe8019;">:config</span> <span style="color: #98971a;">(</span>lisp-extra-font-lock-global-mode 1<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">parinfer-rust-mode</span>
  <span style="color: #fe8019;">:hook</span> emacs-lisp-mode
  <span style="color: #fe8019;">:custom</span>
  <span style="color: #98971a;">(</span>parinfer-rust-library-directory my/temp-dir<span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>parinfer-rust-auto-download t<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgf6898a3" class="outline-4">
<h4 id="orgf6898a3"><span class="section-number-4">11.1.1.</span> Some problems due to parinfer</h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
The magic of parinfer clashes with some other automatic adjustment modes,
such as format-all-mode and the electric modes.
Therefore, they need to be disabled.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>add-hook
 '<span style="color: #d3869b;">emacs-lisp-mode-hook</span>
 #'<span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">(</span><span style="color: #d79921;">)</span>
     <span style="color: #d79921;">(</span>format-all-mode 0<span style="color: #d79921;">)</span>
     <span style="color: #d79921;">(</span>electric-indent-local-mode 0<span style="color: #d79921;">)</span>
     <span style="color: #d79921;">(</span>electric-pair-local-mode 0<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4b9bb33" class="outline-3">
<h3 id="org4b9bb33"><span class="section-number-3">11.2.</span> C</h3>
<div class="outline-text-3" id="text-11-2">
<p>
Indents are 4 spaces wide.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> c-basic-offset 4<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeea5729" class="outline-3">
<h3 id="orgeea5729"><span class="section-number-3">11.3.</span> Haskell</h3>
<div class="outline-text-3" id="text-11-3">
<p>
Define hotkeys for Haskell and its REPL and enable automatic reload on save.
<a href="https://github.com/haskell/haskell-mode">Link to repo</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">haskell-mode</span>
  <span style="color: #fe8019;">:bind</span> <span style="color: #98971a;">(</span><span style="color: #fe8019;">:map</span> haskell-mode-map
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"C-c C-h"</span> . #'<span style="color: #fabd2f;">hoogle</span><span style="color: #d79921;">)</span>
              <span style="color: #d79921;">(</span><span style="color: #b8bb26;">"C-c C-p"</span> . #'<span style="color: #fabd2f;">haskell-interactive-switch</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #fe8019;">:hook</span>
  <span style="color: #98971a;">(</span>haskell-mode . <span style="color: #d79921;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #458588;">()</span> <span style="color: #458588;">(</span>add-hook '<span style="color: #d3869b;">after-save-hook</span> #'<span style="color: #fabd2f;">my/haskell-reload</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
  <span style="color: #98971a;">(</span>haskell-interactive-mode
   . <span style="color: #d79921;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #458588;">(</span><span style="color: #458588;">)</span>
       <span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-a"</span> #'<span style="color: #fabd2f;">haskell-interactive-mode-beginning</span>        '<span style="color: #d3869b;">haskell-interactive-mode-map</span><span style="color: #458588;">)</span>
       <span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-l"</span> #'<span style="color: #fabd2f;">haskell-interactive-mode-clear</span>            '<span style="color: #d3869b;">haskell-interactive-mode-map</span><span style="color: #458588;">)</span>
       <span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-n"</span> #'<span style="color: #fabd2f;">haskell-interactive-mode-history-next</span>     '<span style="color: #d3869b;">haskell-interactive-mode-map</span><span style="color: #458588;">)</span>
       <span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-p"</span> #'<span style="color: #fabd2f;">haskell-interactive-mode-history-previous</span> '<span style="color: #d3869b;">haskell-interactive-mode-map</span><span style="color: #458588;">)</span>
       <span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-r"</span> #'<span style="color: #fabd2f;">my/haskell-reload</span>                         '<span style="color: #d3869b;">haskell-interactive-mode-map</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>

<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">lsp-haskell</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org473805f" class="outline-3">
<h3 id="org473805f"><span class="section-number-3">11.4.</span> Go</h3>
<div class="outline-text-3" id="text-11-4">
<p>
Nothing fancy here. <a href="https://github.com/dominikh/go-mode.el">Link to repo</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">go-mode</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org52ae7f3" class="outline-3">
<h3 id="org52ae7f3"><span class="section-number-3">11.5.</span> Rust</h3>
<div class="outline-text-3" id="text-11-5">
<p>
Instead of the official <a href="https://github.com/rust-lang/rust-mode">rust-mode</a>, we use <a href="https://github.com/brotzeit/rustic">rustic</a>.
It wraps rust-mode with more features and provides automatic lsp-mode integration.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">rustic</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc09a19e" class="outline-3">
<h3 id="orgc09a19e"><span class="section-number-3">11.6.</span> HTML</h3>
<div class="outline-text-3" id="text-11-6">
<p>
We need to explicitly set the indentation here again,
since it uses a custom variable.
sgml-mode is a builtin mode.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">sgml-mode</span>
  <span style="color: #fe8019;">:custom</span> <span style="color: #98971a;">(</span>sgml-basic-offset 4<span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgecf73c2" class="outline-3">
<h3 id="orgecf73c2"><span class="section-number-3">11.7.</span> Org</h3>
<div class="outline-text-3" id="text-11-7">
<p>
The language this document is written in!
We enable indentation of text under headers
and syntax highlighting in the HTML export with <a href="https://github.com/hniksic/emacs-htmlize">htmlize</a>.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>add-hook '<span style="color: #d3869b;">org-mode-hook</span> #'<span style="color: #fabd2f;">org-indent-mode</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">htmlize</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c21d83" class="outline-3">
<h3 id="org5c21d83"><span class="section-number-3">11.8.</span> Typst</h3>
<div class="outline-text-3" id="text-11-8">
<p>
A modern typesetting language.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">typst-mode</span>
  <span style="color: #fe8019;">:straight</span> <span style="color: #98971a;">(</span><span style="color: #fe8019;">:type</span> git <span style="color: #fe8019;">:host</span> github <span style="color: #fe8019;">:repo</span> <span style="color: #b8bb26;">"Ziqi-Yang/typst-mode.el"</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e6850c" class="outline-3">
<h3 id="org6e6850c"><span class="section-number-3">11.9.</span> Nix</h3>
<div class="outline-text-3" id="text-11-9">
<p>
Nothing fancy here too. <a href="https://github.com/NixOS/nix-mode">Link to repo</a>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">nix-mode</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd97c6b" class="outline-3">
<h3 id="orgdd97c6b"><span class="section-number-3">11.10.</span> Structured data</h3>
<div class="outline-text-3" id="text-11-10">
<p>
<a href="https://github.com/joshwnj/json-mode">JSON</a> and <a href="https://github.com/yoshiki/yaml-mode">YAML</a> are data serialization languages (they describe data, not code).
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">json-mode</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">use-package</span> <span style="color: #d3869b;">yaml-mode</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgda5a588" class="outline-2">
<h2 id="orgda5a588"><span class="section-number-2">12.</span> Keybindings</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org42763cd" class="outline-3">
<h3 id="org42763cd"><span class="section-number-3">12.1.</span> A helper</h3>
<div class="outline-text-3" id="text-12-1">
<p>
To always override existing keybinds in some modes with my own,
I have designed this little helper macro.
It allows me to write my keybinds as one huge expression
instead of many separate calls to <code>bind-key*</code>.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">defmacro</span> <span style="color: #fabd2f;">my/bind-keys*</span> <span style="color: #98971a;">(</span><span style="color: #d3869b;">&amp;rest</span> <span style="color: #83a598;">body</span><span style="color: #98971a;">)</span>
  <span style="color: #b8bb26;">"Globally bind all keys.</span>
<span style="color: #b8bb26;">BODY: a list of alternating key-function arguments."</span>
  <span style="color: #fb4933; font-weight: bold;">`</span><span style="color: #98971a;">(</span><span style="color: #fb4933;">progn</span>
<span style="color: #d3869b;">     </span><span style="color: #fb4933; font-weight: bold;">,@</span><span style="color: #d79921;">(</span><span style="color: #fb4933;">cl-loop</span>
        <span style="color: #fe8019;">while</span> body <span style="color: #fe8019;">collecting</span>
        <span style="color: #fb4933; font-weight: bold;">`</span><span style="color: #458588;">(</span><span style="color: #fb4933;">bind-key*</span><span style="color: #d3869b;"> </span><span style="color: #fb4933; font-weight: bold;">,</span><span style="color: #b16286;">(</span><span style="color: #fb4933;">pop</span> body<span style="color: #b16286;">)</span><span style="color: #d3869b;"> </span><span style="color: #fb4933; font-weight: bold;">,</span><span style="color: #b16286;">(</span><span style="color: #fb4933;">pop</span> body<span style="color: #b16286;">)</span><span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbba8acf" class="outline-3">
<h3 id="orgbba8acf"><span class="section-number-3">12.2.</span> Principles</h3>
<div class="outline-text-3" id="text-12-2">
<ul class="org-ul">
<li>When a modifier key is pressed, it is held for the rest of the keybind</li>
<li>C-x is for general actions</li>
<li>C-c is for code actions.</li>
<li>Very important actions have no prefix, they are a single hotkey</li>
<li>Meta (Alt) roughly corresponds to a "bigger" version of the same hotkey with Control</li>
</ul>
</div>
</div>

<div id="outline-container-org4b42720" class="outline-3">
<h3 id="org4b42720"><span class="section-number-3">12.3.</span> Menus</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-x C-b"</span> #'<span style="color: #fabd2f;">consult-bookmark</span>
 <span style="color: #b8bb26;">"C-x C-f"</span> #'<span style="color: #fabd2f;">find-file</span>
 <span style="color: #b8bb26;">"C-x C-g"</span> #'<span style="color: #fabd2f;">consult-ripgrep</span>
 <span style="color: #b8bb26;">"C-x C-i"</span> #'<span style="color: #fabd2f;">consult-imenu</span>
 <span style="color: #b8bb26;">"C-x C-m"</span> #'<span style="color: #fabd2f;">consult-minor-mode-menu</span>
 <span style="color: #b8bb26;">"C-x C-o"</span> #'<span style="color: #fabd2f;">consult-outline</span>
 <span style="color: #b8bb26;">"C-x C-s"</span> #'<span style="color: #fabd2f;">consult-buffer</span>
 <span style="color: #b8bb26;">"C-x C-u"</span> #'<span style="color: #fabd2f;">undo-tree-visualize</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ce65a8" class="outline-3">
<h3 id="org7ce65a8"><span class="section-number-3">12.4.</span> Window controls</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-&lt;next&gt;"</span>  #'<span style="color: #fabd2f;">centaur-tabs-forward</span>
 <span style="color: #b8bb26;">"C-&lt;prior&gt;"</span> #'<span style="color: #fabd2f;">centaur-tabs-backward</span>
 <span style="color: #b8bb26;">"C-x C-0"</span>   #'<span style="color: #fabd2f;">delete-window</span>
 <span style="color: #b8bb26;">"C-x C-1"</span>   #'<span style="color: #fabd2f;">delete-other-windows</span>
 <span style="color: #b8bb26;">"C-x C-2"</span>   #'<span style="color: #fabd2f;">my/split-switch-below</span>
 <span style="color: #b8bb26;">"C-x C-3"</span>   #'<span style="color: #fabd2f;">my/split-switch-right</span>
 <span style="color: #b8bb26;">"C-x C-4"</span>   #'<span style="color: #fabd2f;">kill-buffer-and-window</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f8bdde" class="outline-3">
<h3 id="org6f8bdde"><span class="section-number-3">12.5.</span> Movement</h3>
<div class="outline-text-3" id="text-12-5">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-a"</span> #'<span style="color: #fabd2f;">my/smart-home</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-#"</span>   <span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">()</span> <span style="color: #d79921;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #d79921;">)</span> <span style="color: #d79921;">(</span>select-window <span style="color: #458588;">(</span>next-window<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
 <span style="color: #b8bb26;">"C-M-#"</span> <span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">()</span> <span style="color: #d79921;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #d79921;">)</span> <span style="color: #d79921;">(</span>select-window <span style="color: #458588;">(</span>previous-window<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
 <span style="color: #b8bb26;">"M-c"</span>   #'<span style="color: #fabd2f;">avy-goto-char</span>
 <span style="color: #b8bb26;">"M-l"</span>   #'<span style="color: #fabd2f;">consult-goto-line</span>
 <span style="color: #b8bb26;">"M-n"</span>   #'<span style="color: #fabd2f;">scroll-up-command</span>
 <span style="color: #b8bb26;">"M-p"</span>   #'<span style="color: #fabd2f;">scroll-down-command</span>
 <span style="color: #b8bb26;">"M-s"</span>   #'<span style="color: #fabd2f;">consult-line</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge59a314" class="outline-3">
<h3 id="orge59a314"><span class="section-number-3">12.6.</span> Editing</h3>
<div class="outline-text-3" id="text-12-6">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-,"</span>     #'<span style="color: #fabd2f;">mc/mark-previous-like-this</span>
 <span style="color: #b8bb26;">"C-."</span>     #'<span style="color: #fabd2f;">mc/mark-next-like-this</span>
 <span style="color: #b8bb26;">"C-&lt;tab&gt;"</span> #'<span style="color: #fabd2f;">format-all-buffer</span>
 <span style="color: #b8bb26;">"C-s"</span>     #'<span style="color: #fabd2f;">save-buffer</span>
 <span style="color: #b8bb26;">"C-y"</span>     #'<span style="color: #fabd2f;">undo-tree-redo</span>
 <span style="color: #b8bb26;">"C-z"</span>     #'<span style="color: #fabd2f;">undo-tree-undo</span>
 <span style="color: #b8bb26;">"M-v"</span>     #'<span style="color: #fabd2f;">consult-yank-from-kill-ring</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdefec65" class="outline-3">
<h3 id="orgdefec65"><span class="section-number-3">12.7.</span> Language server actions</h3>
<div class="outline-text-3" id="text-12-7">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-c C-a"</span>     #'<span style="color: #fabd2f;">lsp-execute-code-action</span>
 <span style="color: #b8bb26;">"C-c C-f C-d"</span> #'<span style="color: #fabd2f;">xref-find-definitions</span>
 <span style="color: #b8bb26;">"C-c C-f C-i"</span> #'<span style="color: #fabd2f;">lsp-find-implementation</span>
 <span style="color: #b8bb26;">"C-c C-f C-r"</span> #'<span style="color: #fabd2f;">xref-find-references</span>
 <span style="color: #b8bb26;">"C-c C-o"</span>     #'<span style="color: #fabd2f;">lsp-organize-imports</span>
 <span style="color: #b8bb26;">"C-c C-r"</span>     #'<span style="color: #fabd2f;">lsp-rename</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org820d270" class="outline-3">
<h3 id="org820d270"><span class="section-number-3">12.8.</span> Text scale adjustment</h3>
<div class="outline-text-3" id="text-12-8">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-+"</span> #'<span style="color: #fabd2f;">text-scale-increase</span>
 <span style="color: #b8bb26;">"C--"</span> #'<span style="color: #fabd2f;">text-scale-decrease</span>
 <span style="color: #b8bb26;">"C-="</span> #'<span style="color: #fabd2f;">text-scale-mode</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e973c0" class="outline-3">
<h3 id="org5e973c0"><span class="section-number-3">12.9.</span> Other utilities</h3>
<div class="outline-text-3" id="text-12-9">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-M-i"</span>   #'<span style="color: #fabd2f;">ispell-buffer</span>
 <span style="color: #b8bb26;">"C-x C-a"</span> #'<span style="color: #fabd2f;">mark-whole-buffer</span>
 <span style="color: #b8bb26;">"C-x C-k"</span> <span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">()</span> <span style="color: #d79921;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #d79921;">)</span> <span style="color: #d79921;">(</span>kill-buffer <span style="color: #458588;">(</span>current-buffer<span style="color: #458588;">)</span><span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
 <span style="color: #b8bb26;">"C-x C-r"</span> <span style="color: #98971a;">(</span><span style="color: #fb4933;">lambda</span> <span style="color: #d79921;">()</span> <span style="color: #d79921;">(</span><span style="color: #fb4933;">interactive</span><span style="color: #d79921;">)</span> <span style="color: #d79921;">(</span>load-file user-init-file<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span>
 <span style="color: #b8bb26;">"C-x C-t"</span> #'<span style="color: #fabd2f;">my/switch-to-terminal</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f3ff65" class="outline-3">
<h3 id="org9f3ff65"><span class="section-number-3">12.10.</span> Help</h3>
<div class="outline-text-3" id="text-12-10">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">my/bind-keys*</span>
 <span style="color: #b8bb26;">"C-h C-b"</span> #'<span style="color: #fabd2f;">describe-personal-keybindings</span>
 <span style="color: #b8bb26;">"C-h C-f"</span> #'<span style="color: #fabd2f;">describe-function</span>
 <span style="color: #b8bb26;">"C-h C-k"</span> #'<span style="color: #fabd2f;">describe-key</span>
 <span style="color: #b8bb26;">"C-h C-m"</span> #'<span style="color: #fabd2f;">consult-man</span>
 <span style="color: #b8bb26;">"C-h C-v"</span> #'<span style="color: #fabd2f;">describe-variable</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd22d7bd" class="outline-3">
<h3 id="orgd22d7bd"><span class="section-number-3">12.11.</span> cua-mode</h3>
<div class="outline-text-3" id="text-12-11">
<p>
The Common User Access system (CUA) enables some keybindings
found in standard text editors, such as
</p>
<ul class="org-ul">
<li>C-c for copying a region</li>
<li>C-x for cutting a region</li>
</ul>
<p>
These keybindings are only active when a region is selected,
otherwise they are just prefixes to other keybindings.
But for that to work, cua-mode must be enabled last.
We also don't want CUA do touch C-v, since we define it ourselves.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">setq</span> cua-remap-control-v nil<span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span>cua-mode 1<span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce73683" class="outline-3">
<h3 id="orgce73683"><span class="section-number-3">12.12.</span> Paste</h3>
<div class="outline-text-3" id="text-12-12">
<p>
We want to use cua-paste everywhere <b>except</b> in the terminal.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-v"</span> #'<span style="color: #fabd2f;">cua-paste</span><span style="color: #cc241d;">)</span>
<span style="color: #cc241d;">(</span><span style="color: #fb4933;">bind-key</span> <span style="color: #b8bb26;">"C-v"</span> #'<span style="color: #fabd2f;">eat-yank</span> '<span style="color: #d3869b;">eat-semi-char-mode-map</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5875306" class="outline-2">
<h2 id="org5875306"><span class="section-number-2">13.</span> Startup message</h2>
<div class="outline-text-2" id="text-13">
<p>
Send a notification when Emacs has started up.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #cc241d;">(</span>start-process
 <span style="color: #b8bb26;">"startup-notify"</span> nil
 <span style="color: #b8bb26;">"notify-send"</span> <span style="color: #b8bb26;">"emacs"</span>
 <span style="color: #98971a;">(</span>format <span style="color: #b8bb26;">"Startup took %s!"</span> <span style="color: #d79921;">(</span>emacs-init-time<span style="color: #d79921;">)</span><span style="color: #98971a;">)</span><span style="color: #cc241d;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Eleonora</p>
<p class="date">Created: 2023-08-17 Do 12:23</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>